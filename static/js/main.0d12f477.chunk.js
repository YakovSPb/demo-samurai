(this["webpackJsonpmy-app2"]=this["webpackJsonpmy-app2"]||[]).push([[0],{106:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(42),c=n(5),a="SEND-MESSAGE",s={messages:[{id:1,message:"Hi"},{id:2,message:"How is your business?"},{id:3,message:"Yo"},{id:4,message:"Yo"},{id:5,message:"Yo"}],dialogs:[{id:1,name:"Yakov"},{id:2,name:"Regina"},{id:3,name:"Renat"},{id:4,name:"YakKostyov"},{id:5,name:"Misha"}]},i=function(e){return{type:a,newMessageBody:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a:var n=t.newMessageBody;return Object(c.a)(Object(c.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:6,message:n}])});default:return e}}},13:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var r=n(131),c=r.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"64826202-63c5-4c77-b4a0-f211f9af0da1"}}),a={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return c.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return c.post("follow/".concat(e))},unfollow:function(e){return c.delete("follow/".concat(e))},getProfile:function(e){return console.warn("Obsolete method. Please use profileAPI"),s.getProfile(e)}},s={getProfile:function(e){return c.get("profile/"+e)},getStatus:function(e){return c.get("profile/status/"+e)},updateStatus:function(e){return c.put("profile/status",{status:e})}},i={me:function(){return c.get("auth/me")},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return c.post("auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return c.delete("auth/login")}}},136:function(e,t,n){e.exports={userPhoto:"Users_userPhoto__14m47"}},137:function(e,t,n){e.exports={preloader:"Preloader_preloader__lluyG"}},16:function(e,t,n){e.exports={nav:"Navbar_nav__1CXOj",item:"Navbar_item__2_5LG",activeLink:"Navbar_activeLink__38kwG"}},247:function(e,t,n){},248:function(e,t,n){},253:function(e,t,n){},254:function(e,t,n){},255:function(e,t,n){},256:function(e,t,n){},257:function(e,t,n){},295:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),a=n.n(c),s=n(9),i=n(97),o=n(106),u={},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return e},d=n(10),j=n.n(d),f=n(19),b=n(42),p=n(5),h=n(13),O=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(p.a)(Object(p.a)({},e),r):e}))},g="FOLLOW",v="UNFOLLOW",m="SET_USERS",x="SET_CURRENT_PAGE",w="SET_TOTAL_USERS_COUNT",_="TOGGLE_IS_FETCHING",P="TOGGLE_IS_FOLLOWING_PROGRESS",y={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[],fake:10},S=function(e){return{type:g,userId:e}},C=function(e){return{type:v,userId:e}},N=function(e){return{type:x,currentPage:e}},k=function(e){return{type:_,isFetching:e}},z=function(e,t){return{type:P,isFetching:e,userId:t}},I=function(){var e=Object(f.a)(j.a.mark((function e(t,n,r,c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(z(!0,n)),e.next=3,r(n);case 3:0==e.sent.data.resultCode&&t(c(n)),t(z(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,c){return e.apply(this,arguments)}}(),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(p.a)(Object(p.a)({},e),{},{users:O(e.users,t.userId,"id",{followed:!0})});case v:return Object(p.a)(Object(p.a)({},e),{},{users:O(e.users,t.userId,"id",{followed:!1})});case m:return Object(p.a)(Object(p.a)({},e),{},{users:t.users});case x:return Object(p.a)(Object(p.a)({},e),{},{currentPage:t.currentPage});case w:return Object(p.a)(Object(p.a)({},e),{},{totalUsersCount:t.count});case _:return Object(p.a)(Object(p.a)({},e),{},{isFetching:t.isFetching});case P:return Object(p.a)(Object(p.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(b.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},T=n(35),L="samurai-network/auth/SET_USER_DATA",U={userId:null,login:null,email:null,isAuth:!1},F=function(e,t,n,r){return{type:L,payload:{userId:e,email:t,login:n,isAuth:r}}},A=function(){return function(){var e=Object(f.a)(j.a.mark((function e(t){var n,r,c,a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.me();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,c=r.id,a=r.login,s=r.email,t(F(c,a,s,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(p.a)(Object(p.a)({},e),t.payload);default:return e}},M=n(132),D=n(130),R="INITIALIZED_SUCCESS",H={initialized:!1},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(p.a)(Object(p.a)({},e),{},{initialized:!0});default:return e}},Y=Object(s.c)({profilePage:i.b,dialogsPage:o.a,sidebar:l,usersPage:E,auth:G,form:D.a,app:B}),X=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,J=Object(s.e)(Y,X(Object(s.a)(M.a)));window.__store__=J;var W=J,K=n(68),Z=n.n(K),q=(n(247),n(37)),V=n(38),Q=n(40),$=n(39),ee=(n(248),n(18)),te=n(34),ne=n.n(te),re=n(14),ce=function(e){return Object(r.jsx)("header",{className:ne.a.header,children:Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("div",{className:ne.a.inner,children:[Object(r.jsxs)("div",{className:ne.a.title,children:[Object(r.jsx)("div",{className:ne.a.logo,children:Object(r.jsxs)("svg",{height:"512pt",viewBox:"0 0 512 512",width:"512pt",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsx)("path",{d:"m452 120c-33.085938 0-60-26.914062-60-60s26.914062-60 60-60 60 26.914062 60 60-26.914062 60-60 60zm0-100c-22.054688 0-40 17.945312-40 40s17.945312 40 40 40 40-17.945312 40-40-17.945312-40-40-40zm0 0"}),Object(r.jsx)("path",{d:"m267.773438 110.390625h-257.773438c-5.523438 0-10-4.480469-10-10 0-34.566406 28.644531-62.621094 63.417969-61.558594 14.65625-24.117187 40.570312-38.832031 69.15625-38.832031 23.421875 0 45.75 10.277344 61.054687 27.804688 5.347656-1.328126 10.847656-1.996094 16.429688-1.996094 37.542968 0 68.085937 30.542968 68.085937 68.082031 0 2.472656-.148437 5.03125-.433593 7.605469-.566407 5.066406-4.84375 8.894531-9.9375 8.894531zm-246.558594-20h236.800781c-1.800781-24.886719-22.621094-44.582031-47.957031-44.582031-5.699219 0-11.273438.984375-16.566406 2.925781-4.195313 1.542969-8.910157.105469-11.535157-3.511719-11.460937-15.792968-29.921875-25.222656-49.382812-25.222656-23.273438 0-44.191407 12.957031-54.597657 33.8125-1.925781 3.859375-6.113281 6.046875-10.378906 5.433594-2.015625-.292969-4.039062-.441406-6.011718-.441406-19.484376 0-35.882813 13.46875-40.371094 31.585937zm0 0"}),Object(r.jsx)("path",{d:"m447.488281 468.601562c-.648437 0-1.296875-.070312-1.949219-.203124-.640624-.117188-1.269531-.308594-1.867187-.558594-.601563-.25-1.183594-.558594-1.722656-.917969-.550781-.371094-1.058594-.792969-1.519531-1.25-.46875-.460937-.878907-.972656-1.25-1.523437-.359376-.539063-.667969-1.117188-.917969-1.71875-.25-.609376-.441407-1.238282-.570313-1.871094-.132812-.648438-.191406-1.308594-.191406-1.957032 0-.652343.058594-1.3125.191406-1.953124.128906-.636719.320313-1.269532.570313-1.867188.25-.609375.558593-1.191406.917969-1.730469.359374-.550781.78125-1.058593 1.242187-1.519531.457031-.460938.976563-.882812 1.519531-1.242188.546875-.359374 1.128906-.667968 1.730469-.917968.597656-.25 1.226563-.441406 1.867187-.570313 1.289063-.261719 2.621094-.261719 3.910157 0 .640625.128907 1.269531.320313 1.871093.570313.601563.25 1.179688.558594 1.730469.917968.539063.359376 1.058594.78125 1.519531 1.242188.460938.460938.878907.96875 1.238282 1.519531.363281.539063.671875 1.121094.921875 1.730469.25.601562.441406 1.230469.570312 1.867188.128907.640624.199219 1.300781.199219 1.953124 0 .648438-.070312 1.308594-.199219 1.957032-.128906.632812-.320312 1.261718-.570312 1.871094-.25.601562-.558594 1.179687-.921875 1.71875-.359375.550781-.777344 1.0625-1.238282 1.523437-.460937.457031-.980468.878906-1.519531 1.25-.550781.359375-1.128906.667969-1.730469.917969-.601562.25-1.230468.441406-1.871093.558594-.648438.132812-1.300781.203124-1.960938.203124zm0 0"}),Object(r.jsx)("path",{d:"m502 405.207031h-18.527344v-111.378906l2.996094 2.199219c1.75 1.285156 3.828125 1.941406 5.921875 1.941406 1.539063 0 3.089844-.355469 4.515625-1.078125 3.363281-1.703125 5.484375-5.152344 5.484375-8.921875v-54.757812c0-3.183594-1.515625-6.175782-4.082031-8.0625l-136.753906-100.460938c-3.523438-2.585938-8.320313-2.585938-11.84375 0l-60.085938 44.140625-27.703125-20.351563c-3.523437-2.589843-8.320313-2.589843-11.84375 0l-27.707031 20.351563-60.085938-44.140625c-3.519531-2.585938-8.316406-2.585938-11.839844 0l-136.757812 100.464844c-2.5625 1.882812-4.078125 4.875-4.078125 8.058594v54.757812c0 3.769531 2.121094 7.222656 5.484375 8.921875 1.425781.722656 2.972656 1.078125 4.515625 1.078125 2.089844 0 4.171875-.652344 5.917969-1.9375l3-2.203125v111.378906h-18.527344c-5.523438 0-10 4.476563-10 10v86.792969c0 5.523438 4.476562 10 10 10h492c5.523438 0 10-4.476562 10-10v-86.792969c0-5.523437-4.476562-10-10-10zm-38.527344-126.070312.003906 126.070312h-79.632812l-.003906-87.59375 3 2.203125c.050781.039063.101562.074219.152344.113282.019531.011718.035156.019531.050781.03125.035156.027343.070312.050781.109375.074218.019531.015625.039062.027344.058594.042969.03125.019531.0625.042969.097656.0625.019531.015625.042968.03125.066406.042969.03125.023437.066406.042968.101562.066406.015626.011719.035157.023438.054688.03125.035156.023438.074219.046875.113281.070312.015625.007813.035157.019532.050781.03125.046876.023438.089844.050782.136719.078126.007813.003906.019531.011718.027344.015624.113281.0625.226563.125.34375.183594.007813.003906.011719.003906.019531.007813.046875.027343.097656.050781.148438.074219.011718.007812.027344.015624.039062.019531.042969.023437.089844.042969.136719.0625.011719.007812.023437.011719.035156.019531.050781.019531.097657.042969.144531.066406.011719.003906.019532.007813.027344.011719 2.296875 1.003906 4.902344 1.109375 7.285156.28125.007813-.003906.007813-.003906.011719-.003906.171875-.0625.339844-.125.507813-.195313.015625-.007812.03125-.011718.046875-.019531.03125-.011719.0625-.023437.09375-.039063.019531-.007812.039062-.015624.058593-.023437.027344-.011719.050782-.023437.078126-.035156.027343-.011719.050781-.023438.078124-.035157.023438-.007812.046876-.019531.070313-.03125.027344-.011718.058594-.027343.089844-.042968.019531-.007813.035156-.015625.054687-.027344.050782-.023438.097656-.046875.144532-.070312 3.363281-1.703126 5.484374-5.152344 5.484374-8.921876v-54.761718c0-3.183594-1.515624-6.175782-4.078124-8.058594l-54.890626-40.320312 11.84375-8.699219zm-184.800781 169.464843h-45.34375v-59.652343h45.34375zm10-79.652343h-65.34375c-5.519531 0-10 4.480469-10 10v69.652343h-65.167969v-145.679687l107.839844-79.21875 107.839844 79.21875.003906 145.679687h-65.171875v-69.652343c0-5.519531-4.480469-10-10-10zm66.960937-223.792969 126.757813 93.117188v29.941406l-120.835937-88.769532c-3.246094-2.382812-7.578126-2.570312-10.992188-.558593-.292969.171875-.574219.359375-.847656.558593l-22.816406 16.761719-20.378907-14.972656zm-99.632812 23.785156 126.757812 93.117188v29.941406l-2.996093-2.203125-117.839844-86.5625c-.277344-.203125-.558594-.390625-.847656-.558594-3.128907-1.84375-7.019531-1.84375-10.144531 0-.292969.171875-.574219.355469-.851563.558594l-117.839844 86.5625-2.996093 2.203125v-29.941406zm-226.390625 69.332032 126.757813-93.117188 49.113281 36.078125-20.378907 14.972656-22.816406-16.757812c-3.519531-2.589844-8.316406-2.589844-11.839844 0l-120.835937 88.765625zm18.917969 40.863281 107.839844-79.222657 11.84375 8.703126-54.890626 40.320312c-.039062.027344-.078124.058594-.117187.085938-2.058594 1.5625-3.417969 3.839843-3.828125 6.351562-.015625.097656-.03125.195312-.042969.292969-.011719.097656-.023437.195312-.035156.292969-.035156.339843-.054687.6875-.054687 1.035156v54.761718c0 3.769532 2.121093 7.21875 5.484374 8.921876.050782.023437.105469.050781.15625.078124 1.136719.546876 2.339844.867188 3.558594.964844 2.355469.191406 4.75-.457031 6.722656-1.90625l2.996094-2.203125v87.59375h-79.628906zm79.632812 146.070312v23.394531h-108.160156v-23.394531zm363.839844 66.792969h-472v-23.398438h387c5.523438 0 10-4.476562 10-10 0-5.519531-4.476562-10-10-10h-23.15625v-23.394531h108.15625zm0 0"}),Object(r.jsx)("path",{d:"m256 347.96875c-23.859375 0-43.273438-19.410156-43.273438-43.273438 0-23.859374 19.414063-43.269531 43.273438-43.269531s43.273438 19.410157 43.273438 43.269531c0 23.863282-19.414063 43.273438-43.273438 43.273438zm0-66.546875c-12.832031 0-23.273438 10.441406-23.273438 23.273437 0 12.832032 10.441407 23.273438 23.273438 23.273438s23.273438-10.441406 23.273438-23.273438c0-12.832031-10.441407-23.273437-23.273438-23.273437zm0 0"})]})}),Object(r.jsx)("span",{className:ne.a.logoText,children:"\u041f\u043e\u0441\u0451\u043b\u043e\u0447\u0435\u043a"})]}),Object(r.jsx)("div",{className:ne.a.loginBlock,children:e.isAuth?Object(r.jsxs)("div",{children:[e.login," - ",Object(r.jsx)("button",{onClick:e.logout,children:"Log out"})]}):Object(r.jsx)(re.b,{to:"/login",children:"Login"})})]})})})},ae=function(e){Object(Q.a)(n,e);var t=Object($.a)(n);function n(){return Object(q.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"render",value:function(){return Object(r.jsx)(ce,Object(p.a)({},this.props))}}]),n}(a.a.Component),se=Object(ee.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(f.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.logout();case 2:0===e.sent.data.resultCode&&t(F(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ae),ie=n(16),oe=n.n(ie),ue=function(){return Object(r.jsxs)("nav",{className:oe.a.nav,children:[Object(r.jsx)("div",{className:oe.a.item,children:Object(r.jsx)(re.b,{to:"/profile",activeClassName:oe.a.activeLink,children:"Profile"})}),Object(r.jsx)("div",{className:oe.a.item,children:Object(r.jsx)(re.b,{to:"/dialogs",activeClassName:oe.a.activeLink,children:"Messages"})}),Object(r.jsx)("div",{className:oe.a.item,children:Object(r.jsx)(re.b,{to:"/users",activeClassName:oe.a.activeLink,children:"Users"})}),Object(r.jsx)("div",{className:oe.a.item,children:Object(r.jsx)(re.b,{to:"/news",activeClassName:oe.a.activeLink,children:"News"})}),Object(r.jsx)("div",{className:oe.a.item,children:Object(r.jsx)(re.b,{to:"/music",activeClassName:oe.a.activeLink,children:"Music"})}),Object(r.jsx)("div",{className:oe.a.item,children:Object(r.jsx)(re.b,{to:"/settings",activeClassName:oe.a.activeLink,children:"Settings"})})]})},le=(n(253),n(254),function(e){return Object(r.jsx)("div",{children:"test"})}),de=function(e){return Object(r.jsx)("div",{children:Object(r.jsx)(le,{})})},je=(n(255),function(e){return Object(r.jsx)("div",{children:"News"})}),fe=(n(256),function(e){return Object(r.jsx)("div",{children:"Music"})}),be=(n(257),function(e){return Object(r.jsx)("div",{children:"Settings"})}),pe=n(11),he=n(58),Oe=n(71),ge=n(129),ve=n(47),me=n.n(ve),xe=n(135),we=n.n(xe),_e=function(e){for(var t=e.totalUsersCount,n=e.pageSize,a=e.currentPage,s=e.onPageChanged,i=e.portionSize,o=void 0===i?10:i,u=Math.ceil(t/n),l=[],d=1;d<=u;d++)l.push(d);var j=Math.ceil(u/o),f=Object(c.useState)(1),b=Object(ge.a)(f,2),p=b[0],h=b[1],O=(p-1)*o+1,g=p*o;return Object(r.jsxs)("div",{className:me.a.paginator,children:[p>1&&Object(r.jsx)("button",{className:me.a.prev,onClick:function(){h(p-1)},children:"Prev"}),l.filter((function(e){return e>=O&&e<=g})).map((function(e){return Object(r.jsx)("span",{className:we()(Object(Oe.a)({},me.a.selectedPage,a===e),me.a.pageNumber),onClick:function(t){s(e)},children:e},e)})),j>p&&Object(r.jsx)("button",{className:me.a.next,onClick:function(){h(p+1)},children:"Prev"})]})},Pe=n(136),ye=n.n(Pe),Se=n.p+"static/media/noavatar.cb2574ca.jpg",Ce=function(e){var t=e.user,n=e.followingInProgress,c=e.unfollow,a=e.follow;return Object(r.jsxs)("div",{children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("div",{children:Object(r.jsx)(re.b,{to:"/profile/"+t.id,children:Object(r.jsx)("img",{src:null!=t.photos.small?t.photos.small:Se,className:ye.a.userPhoto})})}),Object(r.jsx)("div",{children:t.followed?Object(r.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){c(t.id)},children:"Unfollow"}):Object(r.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)},children:"Follow"})})]}),Object(r.jsxs)("span",{children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("div",{children:t.name}),Object(r.jsx)("div",{children:t.status})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("div",{children:"user.location.country"}),Object(r.jsx)("div",{children:"user.location.city"})]})]})]})},Ne=function(e){var t=e.currentPage,n=e.totalUsersCount,c=e.pageSize,a=e.onPageChanged,s=e.users,i=Object(he.a)(e,["currentPage","totalUsersCount","pageSize","onPageChanged","users"]);return Object(r.jsxs)("div",{children:[Object(r.jsx)(_e,{currentPage:t,onPageChanged:a,totalUsersCount:n,pageSize:c}),Object(r.jsx)("div",{children:s.map((function(e){return Object(r.jsx)(Ce,{user:e,followingInProgress:i.followingInProgress,unfollow:i.unfollow,follow:i.follow},e.id)}))})]})},ke=n(43),ze=n(138),Ie=Object(ze.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),Ee=function(e){return e.usersPage.pageSize},Te=function(e){return e.usersPage.totalUsersCount},Le=function(e){return e.usersPage.currentPage},Ue=function(e){return e.usersPage.isFetching},Fe=function(e){return e.usersPage.followingInProgress},Ae=function(e){Object(Q.a)(n,e);var t=Object($.a)(n);function n(){var e;Object(q.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).onPageChanged=function(t){var n=e.props.pageSize;e.props.getUsers(t,n)},e}return Object(V.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.getUsers(t,n)}},{key:"render",value:function(){return Object(r.jsxs)("div",{children:[this.props.isFetching?Object(r.jsx)(ke.a,{}):null,Object(r.jsx)(Ne,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress})]})}}]),n}(a.a.Component),Ge=Object(s.d)(Object(ee.b)((function(e){return{users:Ie(e),pageSize:Ee(e),totalUsersCount:Te(e),currentPage:Le(e),isFetching:Ue(e),followingInProgress:Fe(e)}}),{follow:function(e){return function(){var t=Object(f.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:I(n,e,h.c.follow.bind(h.c),S);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(f.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:I(n,e,h.c.unfollow.bind(h.c),C);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:N,toggleFollowingProgress:z,getUsers:function(e,t){return function(){var n=Object(f.a)(j.a.mark((function n(r){var c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(k(!0)),r(N(e)),n.next=4,h.c.getUsers(e,t);case 4:c=n.sent,r(k(!1)),r((s=c.items,{type:m,users:s})),r((a=c.totalCount,{type:w,count:a}));case 8:case"end":return n.stop()}var a,s}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(Ae),Me=n(128),De=n(33),Re=n(66),He=n(56),Be=n.n(He),Ye=Object(Me.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(r.jsxs)("form",{onSubmit:t,children:[Object(De.c)("Email","email",[Re.b],De.a),Object(De.c)("Password","password",[Re.b],De.a,{type:"password"}),Object(De.c)(null,"rememberMe",[],De.a,{type:"checkbox"},"remember me"),n&&Object(r.jsx)("div",{className:Be.a.formSummaryError,children:n}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{children:"Login"})})]})})),Xe=Object(ee.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var r=Object(f.a)(j.a.mark((function r(c){var a,s;return j.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h.a.login(e,t,n);case 2:0===(a=r.sent).data.resultCode?c(A()):(s=a.data.messages.length>0?a.data.messages[0]:"Some error",c(Object(T.a)("login",{_error:s})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(r.jsx)(pe.a,{to:"/profile"}):Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Login"}),Object(r.jsx)(Ye,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})]})})),Je=function(e){return function(t){return Object(r.jsx)(c.Suspense,{fallback:Object(r.jsx)("div",{children:Object(r.jsx)(ke.a,{})}),children:Object(r.jsx)(e,Object(p.a)({},t))})}},We=a.a.lazy((function(){return n.e(4).then(n.bind(null,305))})),Ke=a.a.lazy((function(){return n.e(3).then(n.bind(null,304))})),Ze=function(e){Object(Q.a)(n,e);var t=Object($.a)(n);function n(){return Object(q.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(r.jsxs)("div",{className:"inner",children:[Object(r.jsx)(se,{}),Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)(ue,{}),Object(r.jsx)(de,{}),Object(r.jsxs)("div",{className:"app-wrapper-content",children:[Object(r.jsx)(pe.b,{exact:!0,path:"/dialogs",render:Je(We)}),Object(r.jsx)(pe.b,{path:"/profile/:userId?",render:Je(Ke)}),Object(r.jsx)(pe.b,{path:"/users",render:function(){return Object(r.jsx)(Ge,{})}}),Object(r.jsx)(pe.b,{path:"/news",component:je}),Object(r.jsx)(pe.b,{path:"/music",component:fe}),Object(r.jsx)(pe.b,{path:"/settings",component:be}),Object(r.jsx)(pe.b,{path:"/login",render:function(){return Object(r.jsx)(Xe,{})}})]})]})]}):Object(r.jsx)(ke.a,{})}}]),n}(a.a.Component),qe=Object(s.d)(pe.f,Object(ee.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(A());Promise.all([t]).then((function(){e({type:R})}))}}}))(Ze),Ve=function(e){return Object(r.jsx)(re.a,{children:Object(r.jsx)(ee.a,{store:W,children:Object(r.jsx)(qe,{})})})},Qe=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,303)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};Z.a.render(Object(r.jsx)(Ve,{}),document.getElementById("root")),Qe()},33:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return j}));var r=n(5),c=n(58),a=n(1),s=(n(0),n(56)),i=n.n(s),o=(n(66),n(91)),u=function(e){e.input;var t=e.meta,n=t.touched,r=t.error,c=e.children,s=n&&r;return Object(a.jsxs)("div",{className:i.a.formControl+" "+(s?i.a.error:""),children:[Object(a.jsx)("div",{children:c}),s&&Object(a.jsx)("span",{children:r})]})},l=function(e){var t=e.input,n=(e.meta,e.child,Object(c.a)(e,["input","meta","child"]));return Object(a.jsx)(u,Object(r.a)(Object(r.a)({},e),{},{children:Object(a.jsx)("textarea",Object(r.a)(Object(r.a)({},t),n))}))},d=function(e){var t=e.input,n=(e.meta,e.child,Object(c.a)(e,["input","meta","child"]));return Object(a.jsx)(u,Object(r.a)(Object(r.a)({},e),{},{children:Object(a.jsx)("input",Object(r.a)(Object(r.a)({},t),n))}))},j=function(e,t,n,c){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(a.jsxs)("div",{children:[Object(a.jsx)(o.a,Object(r.a)({placeholder:e,name:t,validate:n,component:c},s))," ",i]})}},34:function(e,t,n){e.exports={header:"Header_header__Gs6dZ",inner:"Header_inner__HGhTe",logo:"Header_logo__5kLvp",logoText:"Header_logoText__myPSD",title:"Header_title__1daXO",loginBlock:"Header_loginBlock__3c34P"}},43:function(e,t,n){"use strict";var r=n(1),c=(n(0),n.p+"static/media/preloader.2313428e.gif"),a=n(137),s=n.n(a);t.a=function(e){return Object(r.jsx)("div",{className:s.a.preloader,children:Object(r.jsx)("img",{src:c})})}},47:function(e,t,n){e.exports={paginator:"Paginator_paginator__23kJz",pageNumber:"Paginator_pageNumber__1UshG",selectedPage:"Paginator_selectedPage__1hNsz",prev:"Paginator_prev__1DhI-",next:"Paginator_next__yA_1z"}},56:function(e,t,n){e.exports={formControl:"FormsControls_formControl__1TlS3",error:"FormsControls_error__B1vC1",formSummaryError:"FormsControls_formSummaryError__1Gk8y"}},66:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var r=function(e){if(!e)return"Field is required"},c=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},97:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return O})),n.d(t,"c",(function(){return g}));var r=n(10),c=n.n(r),a=n(19),s=n(42),i=n(5),o=n(13),u="ADD-POST",l="SET-USER-PROFILE",d="SET_STATUS",j="DELETE_POST",f={posts:[{id:1,message:"Hi, how are you",count:12},{id:2,message:"It's my first post",count:11}],profile:null,status:""},b=function(e){return{type:u,newPostText:e}},p=function(e){return{type:d,status:e}},h=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.c.getProfile(e);case 2:r=t.sent,n((c=r.data,{type:l,profile:c}));case 4:case"end":return t.stop()}var c}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(p(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.getStatus(e);case 2:r=t.sent,n(p(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:var n={id:5,message:t.newPostText,count:0};return Object(i.a)(Object(i.a)({},e),{},{posts:[].concat(Object(s.a)(e.posts),[n]),newPostText:""});case d:return Object(i.a)(Object(i.a)({},e),{},{status:t.status});case l:return Object(i.a)(Object(i.a)({},e),{},{profile:t.profile});case j:return Object(i.a)(Object(i.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!=t.postId}))});default:return e}}}},[[295,1,2]]]);
//# sourceMappingURL=main.0d12f477.chunk.js.map